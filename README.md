# Efficient OCR for Information Digitalization

SKKU OCR í”„ë¡œì íŠ¸ëŠ” ì œí•œëœ ìì› í™˜ê²½ì—ì„œ ë‹¤êµ­ì–´ í…ìŠ¤íŠ¸ ì¸ì‹ì˜ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•œ ì—°êµ¬ì…ë‹ˆë‹¤. íŠ¹íˆ í•œêµ­ì–´ì™€ ê°™ì€ ë³µì¡í•œ ì–¸ì–´ì—ì„œ ë°œìƒí•˜ëŠ” í´ë˜ìŠ¤ ë¶ˆê· í˜•ê³¼ íŠ¹ìˆ˜ë¬¸ì ì¸ì‹ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í˜ì‹ ì ì¸ Greedy Model Selection Algorithmì„ ì œì•ˆí•©ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ì—¬

### 1. Greedy Model Selection Algorithm
- **3ë‹¨ê³„ ê³„ì¸µì  ì˜ˆì¸¡**: íŠ¹ìˆ˜ë¬¸ì â†’ ìˆ«ì â†’ ê¸°ë³¸ ëª¨ë¸ ìˆœì„œë¡œ ì‹¤í–‰
- **ì‹ ë¢°ë„ ê¸°ë°˜ ëª¨ë¸ ì„ íƒ**: ê° ë‹¨ê³„ë³„ confidence thresholdë¥¼ í†µí•œ ìµœì  ê²°ê³¼ ì„ íƒ
- **10ë°° í–¥ìƒëœ íš¨ìœ¨ì„±**: ê¸°ì¡´ ë°©ë²• ëŒ€ë¹„ ê³„ì‚° ë¹„ìš© ëŒ€í­ ì ˆê°

### 2. ë‹¤êµ­ì–´ í´ë˜ìŠ¤ ë¶ˆê· í˜• í•´ê²°
- **í†µê³„ì  ë¶„ì„**: ì˜ì–´(36ê°œ), í•œêµ­ì–´(2393ê°œ) ë¬¸ì í´ë˜ìŠ¤ ë¶„ì„
- **Confidence Distribution ë¶„ì„**: í…ìŠ¤íŠ¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ìë³„ ì‹ ë¢°ë„ íŒ¨í„´ ë°œê²¬
- **T-test ê²€ì¦**: Symbol Present vs Text Dominant ì¹´í…Œê³ ë¦¬ ê°„ ìœ ì˜ë¯¸í•œ ì°¨ì´ í™•ì¸ (p=0.0188)

### 3. íš¨ìœ¨ì  Fine-tuning ì „ëµ
- **GPT-4 ê¸°ë°˜ ìë™ ë ˆì´ë¸”ë§**: ì˜ëª»ëœ OCR ê²°ê³¼ ìë™ ìˆ˜ì •
- **ë…¸ì´ì¦ˆ í•„í„°ë§**: Confidence threshold (â‰ˆ1/2900) ê¸°ë°˜ OOV í† í° ì œê±°
- **í•˜ì´í¼íŒŒë¼ë¯¸í„° ìµœì í™”**: Grid searchë¥¼ í†µí•œ ìµœì  í•™ìŠµë¥ (1e-6), ë°°ì¹˜ í¬ê¸°(32), ì—í¬í¬(200) ë„ì¶œ

## ğŸ“Š ì‹¤í—˜ ê²°ê³¼

### ì„±ëŠ¥ í–¥ìƒ
- **2-path ëª¨ë¸**: ê¸°ì¡´ ëŒ€ë¹„ 1% ì •í™•ë„ í–¥ìƒ
- **3-path ëª¨ë¸**: ì¶”ê°€ 1% í–¥ìƒìœ¼ë¡œ ì´ 2% ì„±ëŠ¥ ê°œì„ 
- **íŠ¹ìˆ˜ë¬¸ì ì¸ì‹**: '/'ì™€ '1' êµ¬ë¶„ ë“± ê¸°ì¡´ ì˜¤ë¥˜ í•´ê²°

### ì‹ ë¢°ë„ ë¶„ì„
- **Text Dominant**: ë†’ì€ ì‹ ë¢°ë„ì™€ ë‚®ì€ ë¶„ì‚°
- **Symbol Present**: ë‚®ì€ ì‹ ë¢°ë„ì™€ ë†’ì€ ë¶„ì‚°
- **Cohen's d**: 0.2055 (medium effect size)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### Detection Module
- **CRAFT ê¸°ë°˜**: Region scoreì™€ Affinity scoreë¥¼ í†µí•œ í…ìŠ¤íŠ¸ ì˜ì—­ ê²€ì¶œ
- **U-Net êµ¬ì¡°**: VGG16 ë°±ë³¸ê³¼ ì—…ìŠ¤ì¼€ì¼ë§ ì»¨ë³¼ë£¨ì…˜

### Recognition Module


## ğŸ“¦ ì„¤ì¹˜ ë° ì‚¬ìš©ë²•

### ìš”êµ¬ì‚¬í•­
```bash
pip install torch torchvision opencv-python pillow
pip install numpy pandas scikit-image wandb
pip install openai python-dotenv  # GPT-4 ê¸°ë°˜ ë ˆì´ë¸”ë§ìš©
```
í™˜ê²½ ì„¤ì •
bash# .env íŒŒì¼ ìƒì„±
```bash
echo "OPENAI_API_KEY=your_openai_api_key" > .env
```
ë°ì´í„°ì…‹ ì¤€ë¹„
bash# GPT-4 ê¸°ë°˜ OCR ê²°ê³¼ ìˆ˜ì • ë° ë°ì´í„° ìˆ˜ì§‘
```bash
python finetune.py
```
ëª¨ë¸ í•™ìŠµ
bash# ê¸°ë³¸ íŒŒì¸íŠœë‹
```bash
python finetune_brainocr.py \
    --train_root CLOVA_V3_train \
    --test_root CLOVA_V2_test \
    --epochs 200 \
    --batch 32 \
    --lr 1e-6
```
SKKUOCR/
â”œâ”€â”€ pororo/                           # ë©”ì¸ OCR ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”œâ”€â”€ models/brainOCR/             # BrainOCR ëª¨ë¸ êµ¬í˜„
â”‚   â”‚   â”œâ”€â”€ brainocr.py             # Reader í´ë˜ìŠ¤
â”‚   â”‚   â”œâ”€â”€ recognition.py          # ì¸ì‹ ëª¨ë¸ ë° ì˜ˆì¸¡ í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ detection.py            # CRAFT ê²€ì¶œ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ model.py                # ëª¨ë¸ ì•„í‚¤í…ì²˜
â”‚   â”‚   â””â”€â”€ modules/                # ì„œë¸Œëª¨ë“ˆë“¤
â”‚   â””â”€â”€ tasks/                       # íƒœìŠ¤í¬ë³„ íŒ©í† ë¦¬ í´ë˜ìŠ¤
â”‚       â””â”€â”€ optical_character_recognition.py
â”œâ”€â”€ datasets.py                      # ë°ì´í„°ì…‹ ë° ì „ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ finetune_brainocr.py            # ëª¨ë¸ íŒŒì¸íŠœë‹ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ finetune.py                     # GPT-4 ê¸°ë°˜ ë°ì´í„° ìˆ˜ì§‘
â”œâ”€â”€ main.py                         # ê¸°ë³¸ OCR ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â””â”€â”€ utils/                          # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
    â””â”€â”€ image_util.py              # ì´ë¯¸ì§€ ì²˜ë¦¬ ìœ í‹¸ë¦¬í‹°
